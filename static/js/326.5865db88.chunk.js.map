{"version":3,"file":"static/js/326.5865db88.chunk.js","mappings":"6XACA,EAAwB,yBAAxB,EAAgE,gCAAhE,EAA8G,+B,SCoG9G,EApFkB,WAChB,MAAwCA,EAAAA,UAAe,GAAvD,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAQXC,EAAY,mCAAG,WAAMC,GAAN,8EACnBA,EAAEC,iBAEFJ,GACEK,EAAAA,EAAAA,IAAW,CACTC,MAAOH,EAAEI,OAAOC,SAASF,MAAMG,MAC/BC,SAAUP,EAAEI,OAAOC,SAASE,SAASD,SAGtCE,SACAC,MAAK,WACJZ,GAASa,EAAAA,EAAAA,OACTf,EAAS,YACV,IACAgB,OAAM,kBAAMC,EAAAA,GAAAA,MAAY,aAAlB,IAEHC,EAAU,CACdV,MAAOH,EAAEI,OAAOC,SAASF,MAAMG,MAC/BC,SAAUP,EAAEI,OAAOC,SAASE,SAASD,OAlBpB,mBAsBXQ,EAAAA,EAAAA,IAAUD,GAtBC,OAuBjBD,EAAAA,GAAAA,QAAA,qBAA4BC,EAAQV,QAvBnB,gDAyBjBS,EAAAA,GAAAA,MAAY,wCAzBK,yDAAH,sDA6BlB,OACE,kBAAMG,UAAWC,EAAWC,SAAUlB,EAAtC,WACE,SAACmB,EAAA,EAAD,CACEC,MAAO,CAAEC,SAAU,KACnBC,GAAG,iBACHC,MAAM,QACNC,KAAK,QACLC,QAAQ,cAEV,UAACC,EAAA,EAAD,CAAaC,GAAI,CAAEC,EAAG,EAAGC,MAAO,QAAUJ,QAAQ,WAAlD,WACE,SAACK,EAAA,EAAD,CAAYC,QAAQ,8BAApB,uBACA,SAACC,EAAA,EAAD,CACEZ,MAAO,CAAEC,SAAU,KACnBC,GAAG,8BACHC,MAAM,WACNC,KAAK,WACLS,KAAMvC,EAAe,OAAS,WAC9BwC,cACE,SAACC,EAAA,EAAD,CAAgBC,SAAS,MAAzB,UACE,SAACC,EAAA,EAAD,CACE,aAAW,6BACXC,QAxDkB,kBAAM3C,GAAgB,SAAA4C,GAAI,OAAKA,CAAL,GAA1B,EAyDlBC,YAvDkB,SAAAC,GAC9BA,EAAMvC,gBACP,EAsDawC,KAAK,MAJP,SAMGhD,GAAe,SAACiD,EAAA,EAAD,KAAoB,SAACC,EAAA,EAAD,cAM9C,SAACC,EAAA,EAAD,CAAQZ,KAAK,SAASR,QAAQ,WAA9B,oBAGA,iBAAKT,UAAWC,EAAhB,WACE,+CACA,SAAC,KAAD,CAAMD,UAAWC,EAAiB6B,GAAG,YAArC,2BAMP,ECzFD,EARkB,WAChB,OACE,+BACI,SAAC,EAAD,KAGP,C","sources":["webpack://react-homework-template/./src/components/LogInForm/LoginForm.module.css?fc9a","components/LogInForm/LogInForm.jsx","pages/LogInPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"login\":\"LoginForm_login__nrTpm\",\"registration\":\"LoginForm_registration__lIyin\",\"linkRegistr\":\"LoginForm_linkRegistr__kM5+G\"};","import * as React from 'react';\nimport TextField from '@mui/material/TextField';\nimport IconButton from '@mui/material/IconButton';\nimport OutlinedInput from '@mui/material/OutlinedInput';\nimport InputLabel from '@mui/material/InputLabel';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport FormControl from '@mui/material/FormControl';\nimport Visibility from '@mui/icons-material/Visibility';\nimport VisibilityOff from '@mui/icons-material/VisibilityOff';\nimport Button from '@mui/material/Button';\nimport { getProfileThunk, loginThunk } from 'store/auth/loginThunk';\nimport { useDispatch } from 'react-redux';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\nimport { loginUser } from 'services/authService';\nimport css from './LoginForm.module.css';\n\nconst LogInForm = () => {\n  const [showPassword, setShowPassword] = React.useState(false);\n\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const handleClickShowPassword = () => setShowPassword(show => !show);\n\n  const handleMouseDownPassword = event => {\n    event.preventDefault();\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    dispatch(\n      loginThunk({\n        email: e.target.elements.email.value,\n        password: e.target.elements.password.value,\n      })\n    )\n      .unwrap()\n      .then(() => {\n        dispatch(getProfileThunk());\n        navigate('/contacts');\n      })\n      .catch(() => toast.error('Some error'));\n\n    const setUser = {\n      email: e.target.elements.email.value,\n      password: e.target.elements.password.value,\n    };\n\n    try {\n      await loginUser(setUser);\n      toast.success(`Loged into ${setUser.email}`);\n    } catch (error) {\n      toast.error('Please enter your email and password');\n    }\n  };\n\n  return (\n    <form className={css.login} onSubmit={handleSubmit}>\n      <TextField\n        style={{ minWidth: 280 }}\n        id=\"outlined-basic\"\n        label=\"Email\"\n        name=\"email\"\n        variant=\"outlined\"\n      />\n      <FormControl sx={{ m: 1, width: '25ch' }} variant=\"outlined\">\n        <InputLabel htmlFor=\"outlined-adornment-password\">Password</InputLabel>\n        <OutlinedInput\n          style={{ minWidth: 280 }}\n          id=\"outlined-adornment-password\"\n          label=\"Password\"\n          name=\"password\"\n          type={showPassword ? 'text' : 'password'}\n          endAdornment={\n            <InputAdornment position=\"end\">\n              <IconButton\n                aria-label=\"toggle password visibility\"\n                onClick={handleClickShowPassword}\n                onMouseDown={handleMouseDownPassword}\n                edge=\"end\"\n              >\n                {showPassword ? <VisibilityOff /> : <Visibility />}\n              </IconButton>\n            </InputAdornment>\n          }\n        />\n      </FormControl>\n      <Button type=\"submit\" variant=\"outlined\">\n        LogIn\n      </Button>\n      <div className={css.registration}>\n        <p>Dont have account?</p>\n        <Link className={css.linkRegistr} to=\"/register\">\n          Register\n        </Link>\n      </div>\n    </form>\n  );\n};\nexport default LogInForm;\n","import LogInForm from 'components/LogInForm/LogInForm';\nimport React from 'react';\n\nconst LogInPage = () => {\n  return (\n    <>\n        <LogInForm/>\n    </>\n  );\n};\n\nexport default LogInPage;"],"names":["React","showPassword","setShowPassword","navigate","useNavigate","dispatch","useDispatch","handleSubmit","e","preventDefault","loginThunk","email","target","elements","value","password","unwrap","then","getProfileThunk","catch","toast","setUser","loginUser","className","css","onSubmit","TextField","style","minWidth","id","label","name","variant","FormControl","sx","m","width","InputLabel","htmlFor","OutlinedInput","type","endAdornment","InputAdornment","position","IconButton","onClick","show","onMouseDown","event","edge","VisibilityOff","Visibility","Button","to"],"sourceRoot":""}